<p-dialog
  header="Ajouter un firewall"
  [(visible)]="isVisibleDialog"
  (onHide)="closeDialog()"
  [style]="{ width: '25rem' }"
  data-cy="add-firewall-dialog"
>
  <div class="flex items-center gap-4 mb-4">
    <form
      [formGroup]="firewallForm"
      (ngSubmit)="createFirewall()"
      class="flex-grow-1"
    >
      <input
        pInputText
        placeholder="Nom du Firewall"
        formControlName="name"
        style="width: 100%"
        data-cy="firewall-form-name-input"
      />
      @if (
        firewallForm.controls.name.invalid &&
        (firewallForm.controls.name.touched || firewallForm.controls.name.dirty)
      ) {
        @if (firewallForm.controls.name.hasError("required")) {
          <small class="text-red-500" data-cy="firewall-error-required"
            >Le nom est obligatoire</small
          >
        }

        @if (firewallForm.controls.name.hasError("minlength")) {
          <small class="text-red-500" data-cy="firewall-error-min-length"
            >Minimum 3 lettres</small
          >
        }

        @if (firewallForm.controls.name.hasError("maxlength")) {
          <small class="text-red-500" data-cy="firewall-error-max-length"
            >Maximum 50 lettres</small
          >
        }
      }
      <div class="flex justify-content-end gap-2 mt-2">
        <p-button
          label="Annuler"
          severity="secondary"
          (click)="closeDialog()"
        />
        <p-button
          label="CrÃ©er"
          type="submit"
          data-cy="firewall-form-submit-button"
        />
      </div>
    </form>
  </div>
</p-dialog>
